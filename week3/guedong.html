<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>개발팀 알고리즘 3주차</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    
    
</head>
<body>
1. 조이스틱 lv.2<br>
<script>
    const solution = name => {
        let answer = 0;
        const process1 = name.length - 1;
        const z = 'Z'.charCodeAt(0);
        const a = 'A'.charCodeAt(0);
        for(let i in name){
            const cur = name[i].charCodeAt(0);
            answer += (z - cur + 1) > cur - a ? cur - a : (z - cur + 1);
            if(cur === a){
                const nextIdx = i+1;
                let countA = 0;
                while (nextIdx < name.length &&
                    name.charAt(nextIdx) == 'A'){
                    countA++;
                    nextIdx++;
                }
                const temp = ( name.charAt(0)=='A'? 0 : (i-1)*2 )+(name.length-(1+i+countA));
                if(process1 > temp) {
                    process1 = temp;
                }
            }
        }
        answer += process1;
        return answer;
    }
    document.write(solution('JEROEN'));
</script>
<hr>
2. 가장 큰 수 lv.2<br>
<script>
    const solution2 = (numbers) => {
       const strNum = numbers.map(v => JSON.stringify(v));
       const process1 = strNum.sort((a, b)=>
           // +([...a][0] < [...b][0]) ||
           // -([...a][0] > [...b][0]) 1번 통과
           (b + a) - (a + b)
       )
       return process1.join('');
    }
    document.write(solution2([3, 30, 34, 5, 9]));
</script>
<hr>
3. 베스트앨범 lv.3<br>
<script>
    const solution3 = (genres, plays) => {
        let answer = [];
        const list = genres.reduce((hash, g, i) => {
            if (!hash[g]) {
                hash[g] = {plays: plays[i], music: []};
            } else {
                hash[g].plays += plays[i];
            }
            hash[g].music.push([i, plays[i]]);
            return hash;
        }, {});
        const sorted = Object.values(list).sort((l, r) => r.plays - l.plays);
        sorted.forEach((g) => {
            if (g.music.length > 1) {
                g.music.sort((l, r) => {
                    if (l[1] > r[1]) {
                        return -1;
                    } else if (l[1] < r[1]) {
                        return 1;
                    } else {
                        return (l[0] > r[0]) ? 1 : -1;
                    }
                });
                answer.push(g.music[0][0]);
                answer.push(g.music[1][0]);
            } else {
                answer.push(g.music[0][0]);
            }
            });
            return answer;
        }

    document.write(solution3(['classic','pop','classic','classic','pop'],[500, 600, 150, 800, 2500]));
</script>
</body>
</html>