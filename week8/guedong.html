<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>개발팀 알고리즘 8주차</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    
    
</head>
<body>
1. 방의 개수 lv.5<br>
<script>
const solution = arrows => {
    let answer = 0,
        len = arrows.length, //움직인 횟수 //19
        pointVisited = {}, 
        nodeVisited = {},
        directions = [
            [0, -1], //위 , 0 
            [1, -1], //북동, 1
            [1, 0],  // 오른쪽, 2
            [1, 1], //동남, 3
            [0, 1], //아래, 4
            [-1, 1], //서남, 5
            [-1, 0], //왼쪽, 6
            [-1, -1] //북서, 7
        ],
        x = 0,
        y = 0;

    pointVisited[0] = [0];

    for (i = 0; i < len; ++i) { //움직인 횟수 범위 내
        for (j = 0; j < 2; ++j) { //x,y 좌표 내
            direction = directions[arrows[i]]; //방향 x,y 설정
            xPos = x + direction[0];
            yPos = y + direction[1];

            node1 = [x, y].join("_"); // x,y값 모두 출력
            node2 = [xPos, yPos].join("_"); //x,y 좌표 모두 출력

            if (pointVisited[xPos] && (pointVisited[xPos].indexOf(yPos) !== -1)) {
                if (!nodeVisited[node1] || (nodeVisited[node1].indexOf(node2) === -1) || 
                    !nodeVisited[node2] || (nodeVisited[node2].indexOf(node1) === -1)) {
                    answer += 1;
                }
            }

            if (!pointVisited[xPos]) {
                pointVisited[xPos] = [];
            }

            pointVisited[xPos].push(yPos); //키 값에는 x 좌표, 나머지는 y좌표
            if (!nodeVisited[node1]) {
                nodeVisited[node1] = [];
            }

            if (!nodeVisited[node2]) {
                nodeVisited[node2] = [];
            }

            nodeVisited[node1].push(node2);
            nodeVisited[node2].push(node1);
            console.log(nodeVisited);
            x = xPos;
            y = yPos;            
        };
    };
    return answer;
};
document.write(solution([6, 6, 6, 4, 4, 4, 2, 2, 2, 0, 0, 0, 1, 6, 5, 5, 3, 6, 0]));
</script>
</body>
</html>